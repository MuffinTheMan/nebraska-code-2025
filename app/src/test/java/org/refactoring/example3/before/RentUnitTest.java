package org.refactoring.example3.before;

import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.CsvSource;

import static org.assertj.core.api.Assertions.assertThat;

class RentUnitTest {
    @ParameterizedTest
    @CsvSource({
        "1550,1000,0,0,MONTH_TO_MONTH",
        "1588.75,1000,25,0,MONTH_TO_MONTH",
        "1511.25,1000,-25,0,MONTH_TO_MONTH",
        "1643.26,1000,0,93.26,MONTH_TO_MONTH",
        "1685.94,1000,25,97.19,MONTH_TO_MONTH",
        "1614.09,1000,-25,102.84,MONTH_TO_MONTH",
        "1500,1000,0,0,TWO_MONTH",
        "1537.5,1000,25,0,TWO_MONTH",
        "1462.5,1000,-25,0,TWO_MONTH",
        "1593.26,1000,0,93.26,TWO_MONTH",
        "1634.69,1000,25,97.19,TWO_MONTH",
        "1565.34,1000,-25,102.84,TWO_MONTH",
        "1450,1000,0,0,THREE_MONTH",
        "1486.25,1000,25,0,THREE_MONTH",
        "1413.75,1000,-25,0,THREE_MONTH",
        "1543.26,1000,0,93.26,THREE_MONTH",
        "1583.44,1000,25,97.19,THREE_MONTH",
        "1516.59,1000,-25,102.84,THREE_MONTH",
        "1400,1000,0,0,FOUR_MONTH",
        "1435,1000,25,0,FOUR_MONTH",
        "1365,1000,-25,0,FOUR_MONTH",
        "1493.26,1000,0,93.26,FOUR_MONTH",
        "1532.19,1000,25,97.19,FOUR_MONTH",
        "1467.84,1000,-25,102.84,FOUR_MONTH",
        "1350,1000,0,0,FIVE_MONTH",
        "1383.75,1000,25,0,FIVE_MONTH",
        "1316.25,1000,-25,0,FIVE_MONTH",
        "1443.26,1000,0,93.26,FIVE_MONTH",
        "1480.94,1000,25,97.19,FIVE_MONTH",
        "1419.09,1000,-25,102.84,FIVE_MONTH",
        "1300,1000,0,0,SIX_MONTH",
        "1332.5,1000,25,0,SIX_MONTH",
        "1267.5,1000,-25,0,SIX_MONTH",
        "1393.26,1000,0,93.26,SIX_MONTH",
        "1429.69,1000,25,97.19,SIX_MONTH",
        "1370.34,1000,-25,102.84,SIX_MONTH",
        "1250,1000,0,0,SEVEN_MONTH",
        "1281.25,1000,25,0,SEVEN_MONTH",
        "1218.75,1000,-25,0,SEVEN_MONTH",
        "1343.26,1000,0,93.26,SEVEN_MONTH",
        "1378.44,1000,25,97.19,SEVEN_MONTH",
        "1321.59,1000,-25,102.84,SEVEN_MONTH",
        "1200,1000,0,0,EIGHT_MONTH",
        "1230,1000,25,0,EIGHT_MONTH",
        "1170,1000,-25,0,EIGHT_MONTH",
        "1293.26,1000,0,93.26,EIGHT_MONTH",
        "1327.19,1000,25,97.19,EIGHT_MONTH",
        "1272.84,1000,-25,102.84,EIGHT_MONTH",
        "1150,1000,0,0,NINE_MONTH",
        "1178.75,1000,25,0,NINE_MONTH",
        "1121.25,1000,-25,0,NINE_MONTH",
        "1243.26,1000,0,93.26,NINE_MONTH",
        "1275.94,1000,25,97.19,NINE_MONTH",
        "1224.09,1000,-25,102.84,NINE_MONTH",
        "1100,1000,0,0,TEN_MONTH",
        "1127.5,1000,25,0,TEN_MONTH",
        "1072.5,1000,-25,0,TEN_MONTH",
        "1193.26,1000,0,93.26,TEN_MONTH",
        "1224.69,1000,25,97.19,TEN_MONTH",
        "1175.34,1000,-25,102.84,TEN_MONTH",
        "1050,1000,0,0,ELEVEN_MONTH",
        "1076.25,1000,25,0,ELEVEN_MONTH",
        "1023.75,1000,-25,0,ELEVEN_MONTH",
        "1143.26,1000,0,93.26,ELEVEN_MONTH",
        "1173.44,1000,25,97.19,ELEVEN_MONTH",
        "1126.59,1000,-25,102.84,ELEVEN_MONTH",
        "1000,1000,0,0,TWELVE_MONTH",
        "1025,1000,25,0,TWELVE_MONTH",
        "975,1000,-25,0,TWELVE_MONTH",
        "1093.26,1000,0,93.26,TWELVE_MONTH",
        "1122.19,1000,25,97.19,TWELVE_MONTH",
        "1077.84,1000,-25,102.84,TWELVE_MONTH",
        "990,1000,0,0,THIRTEEN_MONTH",
        "1014.75,1000,25,0,THIRTEEN_MONTH",
        "965.25,1000,-25,0,THIRTEEN_MONTH",
        "1083.26,1000,0,93.26,THIRTEEN_MONTH",
        "1111.94,1000,25,97.19,THIRTEEN_MONTH",
        "1068.09,1000,-25,102.84,THIRTEEN_MONTH",
        "980,1000,0,0,FOURTEEN_MONTH",
        "1004.5,1000,25,0,FOURTEEN_MONTH",
        "955.5,1000,-25,0,FOURTEEN_MONTH",
        "1073.26,1000,0,93.26,FOURTEEN_MONTH",
        "1101.69,1000,25,97.19,FOURTEEN_MONTH",
        "1058.34,1000,-25,102.84,FOURTEEN_MONTH",
        "970,1000,0,0,FIFTEEN_MONTH",
        "994.25,1000,25,0,FIFTEEN_MONTH",
        "945.75,1000,-25,0,FIFTEEN_MONTH",
        "1063.26,1000,0,93.26,FIFTEEN_MONTH",
        "1091.44,1000,25,97.19,FIFTEEN_MONTH",
        "1048.59,1000,-25,102.84,FIFTEEN_MONTH",
        "960,1000,0,0,SIXTEEN_MONTH",
        "984,1000,25,0,SIXTEEN_MONTH",
        "936,1000,-25,0,SIXTEEN_MONTH",
        "1053.26,1000,0,93.26,SIXTEEN_MONTH",
        "1081.19,1000,25,97.19,SIXTEEN_MONTH",
        "1038.84,1000,-25,102.84,SIXTEEN_MONTH",
        "950,1000,0,0,SEVENTEEN_MONTH",
        "973.75,1000,25,0,SEVENTEEN_MONTH",
        "926.25,1000,-25,0,SEVENTEEN_MONTH",
        "1043.26,1000,0,93.26,SEVENTEEN_MONTH",
        "1070.94,1000,25,97.19,SEVENTEEN_MONTH",
        "1029.09,1000,-25,102.84,SEVENTEEN_MONTH",
        "940,1000,0,0,EIGHTEEN_MONTH",
        "963.5,1000,25,0,EIGHTEEN_MONTH",
        "916.5,1000,-25,0,EIGHTEEN_MONTH",
        "1033.26,1000,0,93.26,EIGHTEEN_MONTH",
        "1060.69,1000,25,97.19,EIGHTEEN_MONTH",
        "1019.34,1000,-25,102.84,EIGHTEEN_MONTH",
        "930,1000,0,0,NINETEEN_MONTH",
        "953.25,1000,25,0,NINETEEN_MONTH",
        "906.75,1000,-25,0,NINETEEN_MONTH",
        "1023.26,1000,0,93.26,NINETEEN_MONTH",
        "1050.44,1000,25,97.19,NINETEEN_MONTH",
        "1009.59,1000,-25,102.84,NINETEEN_MONTH",
        "920,1000,0,0,TWENTY_MONTH",
        "943,1000,25,0,TWENTY_MONTH",
        "897,1000,-25,0,TWENTY_MONTH",
        "1013.26,1000,0,93.26,TWENTY_MONTH",
        "1040.19,1000,25,97.19,TWENTY_MONTH",
        "999.84,1000,-25,102.84,TWENTY_MONTH",
        "910,1000,0,0,TWENTY_ONE_MONTH",
        "932.75,1000,25,0,TWENTY_ONE_MONTH",
        "887.25,1000,-25,0,TWENTY_ONE_MONTH",
        "1003.26,1000,0,93.26,TWENTY_ONE_MONTH",
        "1029.94,1000,25,97.19,TWENTY_ONE_MONTH",
        "990.09,1000,-25,102.84,TWENTY_ONE_MONTH",
        "900,1000,0,0,TWENTY_TWO_MONTH",
        "922.5,1000,25,0,TWENTY_TWO_MONTH",
        "877.5,1000,-25,0,TWENTY_TWO_MONTH",
        "993.26,1000,0,93.26,TWENTY_TWO_MONTH",
        "1019.69,1000,25,97.19,TWENTY_TWO_MONTH",
        "980.34,1000,-25,102.84,TWENTY_TWO_MONTH",
        "890,1000,0,0,TWENTY_THREE_MONTH",
        "912.25,1000,25,0,TWENTY_THREE_MONTH",
        "867.75,1000,-25,0,TWENTY_THREE_MONTH",
        "983.26,1000,0,93.26,TWENTY_THREE_MONTH",
        "1009.44,1000,25,97.19,TWENTY_THREE_MONTH",
        "970.59,1000,-25,102.84,TWENTY_THREE_MONTH",
        "880,1000,0,0,TWENTY_FOUR_MONTH",
        "902,1000,25,0,TWENTY_FOUR_MONTH",
        "858,1000,-25,0,TWENTY_FOUR_MONTH",
        "973.26,1000,0,93.26,TWENTY_FOUR_MONTH",
        "999.19,1000,25,97.19,TWENTY_FOUR_MONTH",
        "960.84,1000,-25,102.84,TWENTY_FOUR_MONTH",
        // Rounding scenarios
        "979.95,1021.93,-25.21,102.84,TWENTY_FOUR_MONTH",
    })
    void calculateMonthlyRent(double expectedValue, double baseRent, double amenityPremium, double utilitiesCost, LeaseTerm term) {
        var rent = new Rent(baseRent, amenityPremium, utilitiesCost, term);
        assertThat(rent.calculateMonthlyRent()).isEqualTo(expectedValue);
    }
}